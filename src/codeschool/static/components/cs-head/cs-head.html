<link rel="import" href="../../bower_components/polymer/polymer.html">


<dom-module id="cs-head">
    <template>
        <div id="logo">
            <img src="logo.svg" alt="Codeschool">
            <paper-icon-button icon="menu" id="menubutton"></paper-icon-button>
        </div>

        <nav id="nav">
            <div id="links">
                <content></content>
            </div>
            <button id="fabbutton"
                    class="mdl-button mdl-js-button mdl-button--fab mdl-button--colored fab-button"
                    onclick="window.location = '/accounts/{{ _accountLink }}/';">
                {{ _fabLetter }}
            </button>
        </nav>
    </template>

    <style>
        :host {
            margin: 0;
            padding: 0;
            background-color: white;
            display: flex;
            flex-flow: column;
            justify-content: space-between;
            align-items: center;
        }

        #logo {
            background-color: #eee;
            width: 100%;
            padding: 10px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        #logo img {
            width: 60px;
            margin-left: 15px;
        }

        #nav {
            width: 100%;
            margin: 0;
            padding: 0;
        }

        #links ::content > * {
            border-bottom: 1px solid #ddd;
            display: block;
            margin-left: 35px;
            padding: 10px 0;
            font: 1.4em 'Amatic SC', cursive;
            font-weight: bold;
        }

        #fabbutton {
            display: none;
        }

        #menubutton {
            display: block;
        }

        /* Tablets */
        @media only screen and (min-width: 640px) {
            #logo img {
                width: 120px;
            }

            #menubutton {
                display: none;
            }

            #logo {
                background-color: white;
                padding: 0;
                margin: 0;
            }

            :host {
                flex-flow: row;
                padding: 20px;
            }

            #nav {
                display: flex;
                align-items: center;
                margin-right: 30px;
            }

            #links {
                border-bottom: 0;
                width: 100%;
                display: flex;
                justify-content: flex-end;

            }

            #links ::content {
                font-size: 1.5em;
            }

            #links ::content > * {
                border-bottom: 0;
            }

            #fabbutton {
                display: block;
                margin-left: 35px;
                border-radius: 50%;
                background-color: #4e9a06;
                font: 2.2em 'Amatic SC', cursive;
                font-weight: bold;
                color: white;
            }

        }

        /* Destktop */
        @media only screen and (min-width: 1000px) {
            #logo img {
                width: 180px;
            }

            :host {
                padding: 20px 40px;
            }

            #links ::content a {
                font-size: 1.7em;
            }
        }
    </style>

    <script>
        HTMLImports.whenReady(
                AceEditorElement = Polymer({
                    is: 'cs-head',
                    properties: {
                        _accountLink: {
                            type: String,
                            value: 'login'
                        },
                        _fabLetter: {
                            type: String,
                            value: '?'
                        },
                        username: {
                            type: String,
                            reflectToAttribute: true,
                            observer: '_onUsernameChanged'
                        }
                    },

                    hostAttributes: {
                        // Hash with default value for HTML attributes
                    },

                    ready: function () {
                        this._onUsernameChanged(this.username);

                        $(this.$.fabbutton).click(function () {
                            window.location = '/accounts/' + (this.accountLink || 'login');
                        });
                    },

                    _onUsernameChanged: function(value) {
                        this._fabLetter = this.username? this.username[0]: '?';
                        this._accountLink = this.username || 'login';
                    }
                })
        );
    </script>
</dom-module>

